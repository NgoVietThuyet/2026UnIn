<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Th∆∞ g·ª≠i em</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Patrick+Hand&display=swap"
      rel="stylesheet"
    />

    <style>
      /* =========================================
           CSS CƒÇN CH·ªàNH D√íNG K·∫∫ CHU·∫®N X√ÅC
           ========================================= */

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #5d4037;
        background-image: repeating-linear-gradient(
            45deg,
            rgba(255, 255, 255, 0.03) 0px,
            rgba(255, 255, 255, 0.03) 2px,
            transparent 2px,
            transparent 10px
          ),
          repeating-linear-gradient(
            -45deg,
            rgba(0, 0, 0, 0.05) 0px,
            rgba(0, 0, 0, 0.05) 2px,
            transparent 2px,
            transparent 10px
          );
        font-family: "Segoe UI", sans-serif;
        padding: 20px;
      }

      .desk-background {
        position: relative;
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      /* T·ªù gi·∫•y vi·∫øt th∆∞ */
      .paper-container {
        background-color: #fdf6e3;
        width: 100%;
        max-width: 600px;

        /* --- C·∫§U H√åNH D√íNG K·∫∫ --- */
        /* T·∫°o d√≤ng k·∫ª ngang m√†u x√°m nh·∫°t */
        background-image: linear-gradient(
          rgba(0, 0, 0, 0.15) 1px,
          transparent 1px
        );
        /* Kho·∫£ng c√°ch gi·ªØa c√°c d√≤ng l√† 35px */
        background-size: 100% 35px;

        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        position: relative;
        transform: rotate(-2deg);
        margin-bottom: 30px;

        /* Padding top cƒÉn ch·ªânh ƒë·ªÉ d√≤ng ƒë·∫ßu ti√™n r∆°i ƒë√∫ng nh·ªãp */
        padding: 55px 60px 40px 60px;
      }

      /* C√¢y b√∫t trang tr√≠ */
      .pen-deco {
        position: absolute;
        top: 20px;
        right: -80px;
        width: 150px;
        transform: rotate(45deg);
        filter: drop-shadow(5px 5px 5px rgba(0, 0, 0, 0.3));
        pointer-events: none;
        z-index: 10;
      }
      .pen-deco img {
        width: 100%;
        display: block;
      }

      /* N·ªôi dung th∆∞ */
      .letter-content {
        font-family: "Dancing Script", cursive;
        color: #2c3e50;
        font-size: 1.6rem;

        /* QUAN TR·ªåNG: Chi·ªÅu cao d√≤ng ch·ªØ b·∫±ng chi·ªÅu cao d√≤ng k·∫ª n·ªÅn */
        line-height: 35px;
      }

      .letter-content h1 {
        text-align: center;
        font-size: 2.2rem;
        color: #c0392b;
        margin-bottom: 35px; /* C√°ch 1 d√≤ng */
        margin-top: -10px;
        line-height: 35px;
      }

      .letter-content p {
        margin-bottom: 0;
        text-indent: 1.5em;

        /* --- CH·ªàNH V·ªä TR√ç CH·ªÆ ·ªû ƒê√ÇY --- */
        position: relative;
        /* Top √¢m (-2px) ƒë·ªÉ nh·∫•c ch·ªØ l√™n tr√™n d√≤ng k·∫ª m·ªôt ch√∫t */
        /* Top d∆∞∆°ng (6px) s·∫Ω ƒë·∫©y ch·ªØ ƒë√® xu·ªëng d√≤ng k·∫ª */
        top: -2px;
      }

      .signature {
        margin-top: 70px; /* C√°ch 2 d√≤ng */
        text-align: right;
        padding-right: 20px;
        font-weight: bold;
        line-height: 35px;
      }

      /* N√∫t quay l·∫°i */
      .back-button {
        display: inline-block;
        padding: 12px 30px;
        background: #e91e63;
        color: white;
        text-decoration: none;
        border-radius: 50px;
        font-weight: bold;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        transition: transform 0.2s;
        border: 2px solid white;
      }
      .back-button:hover {
        transform: scale(1.1);
        background: #c2185b;
      }

      @media (max-width: 768px) {
        .paper-container {
          padding: 55px 20px 40px 20px;
          transform: rotate(0deg);
        }
        .pen-deco {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <div class="desk-background">
      <div class="paper-container">
        <div class="pen-deco">
          <img
            src="https://purepng.com/public/uploads/large/purepng.com-fountain-penfountain-pennib-penink-penfountain-14215264627993s7t2.png"
            alt="pen"
          />
        </div>

        <div class="letter-content">
          <h1>G·ª≠i ·ª¶n ·ªân c·ªßa anh ...</h1>

          <p>
            Ch√∫c em m·ªôt ng√†y th·∫≠t vui v·∫ª, m·ªôt nƒÉm th·∫≠t h·∫°nh ph√∫c v√† tr√†n ng·∫≠p
            ni·ªÅm vui!
          </p>

          <p>
            H√¥m nay l√† m·ªôt ng√†y ƒë·∫∑c bi·ªát - ng√†y ƒë·∫ßu ti√™n c·ªßa nƒÉm 2026, anh mu·ªën
            g·ª≠i t·ªõi ·ª¶n ·ªàn c·ªßa anh m·ªôt s·ªë l·ªùi t√¢m s·ª±.
          </p>
          <p>
            NƒÉm v·ª´a qua, ch√∫ng ta ƒë√£ c√πng nhau tr·∫£i qua bi·∫øt bao kho·∫£nh kh·∫Øc
            ƒë√°ng nh·ªõ. T·ª´ nh·ªØng bu·ªïi h·∫πn b√™n nhau, nh·ªØng chuy·∫øn ƒëi ch∆°i vui v·∫ª,
            ƒë·∫øn nh·ªØng l√∫c c√πng nhau v∆∞·ª£t qua kh√≥ khƒÉn. M·ªói k·ª∑ ni·ªám ƒë·ªÅu in ƒë·∫≠m
            trong tim anh.
          </p>
          <p>
            C·∫£m ∆°n em ƒë√£ b∆∞·ªõc v√†o cu·ªôc ƒë·ªùi anh, bi·∫øn nh·ªØng ng√†y t·∫ª nh·∫°t tr·ªü n√™n
            r·ª±c r·ª°. C·∫£m ∆°n em v√¨ ƒë√£ kh√¥ng v√¨ nh·ªØng n·ªïi bu·ªìn anh g√¢y ra cho em m√†
            r·ªùi ƒëi.M·ªói kho·∫£nh kh·∫Øc b√™n em ƒë·ªÅu l√† m·ªôt trang nh·∫≠t k√Ω ƒë·∫πp m√† anh
            mu·ªën l∆∞u gi·ªØ m√£i.
          </p>

          <p>
            Anh bi·∫øt m√¨nh c√≤n nhi·ªÅu thi·∫øu s√≥t, nh∆∞ng v√¨ em, anh s·∫Ω c·ªë g·∫Øng t·ªët
            h∆°n m·ªói ng√†y. Mong r·∫±ng sau n√†y, d√π m∆∞a hay n·∫Øng, ch√∫ng ta v·∫´n s·∫Ω
            n·∫Øm ch·∫∑t tay nhau nh∆∞ b√¢y gi·ªù nh√©.
          </p>

          <p>Iuuuu nh·∫Øm ·ª¶n ·ªàn ·ª•t ·ªãt c·ªßa anhhhhh!</p>

          <div class="signature">
            <p>ƒê·ªì ƒë√°ng gh√©t c·ªßa em.</p>
            <p>NVT - Dzai</p>
          </div>
        </div>
      </div>
      <audio id="my-audio" loop>
        <source src="assets/Mucsic/River Flows In You.mp3" type="audio/mpeg" />
      </audio>

      <button id="music-btn" onclick="toggleMusic()">üéµ</button>

      <style>
        #music-btn {
          position: fixed;
          bottom: 20px;
          left: 20px;
          z-index: 9999; /* Lu√¥n n·ªïi l√™n tr√™n c√πng */
          width: 50px;
          height: 50px;
          background: rgba(255, 255, 255, 0.8);
          border: 2px solid #e91e63;
          border-radius: 50%;
          font-size: 24px;
          cursor: pointer;
          box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
          transition: all 0.3s;
          display: flex;
          align-items: center;
          justify-content: center;
          animation: spin 3s linear infinite; /* Xoay tr√≤n khi h√°t */
          animation-play-state: paused; /* M·∫∑c ƒë·ªãnh ƒë·ª©ng y√™n */
        }

        #music-btn:hover {
          transform: scale(1.1);
          background: #fff;
        }

        @keyframes spin {
          100% {
            transform: rotate(360deg);
          }
        }
      </style>

      <script>
        const audio = document.getElementById("my-audio");
        const btn = document.getElementById("music-btn");

        // --- H√ÄM 1: KH√îI PH·ª§C TR·∫†NG TH√ÅI NH·∫†C T·ª™ TRANG TR∆Ø·ªöC ---
        window.addEventListener("DOMContentLoaded", () => {
          // L·∫•y th·ªùi gian ƒë√£ ph√°t t·ª´ b·ªô nh·ªõ
          const savedTime = localStorage.getItem("musicTime");
          const isPlaying = localStorage.getItem("musicPlaying");

          if (savedTime) {
            audio.currentTime = parseFloat(savedTime);
          }

          // N·∫øu tr·∫°ng th√°i l√† ƒëang ph√°t -> T·ª± ƒë·ªông ph√°t ti·∫øp
          // (L∆∞u √Ω: Tr√¨nh duy·ªát c√≥ th·ªÉ ch·∫∑n n·∫øu ch∆∞a click, ta s·∫Ω x·ª≠ l√Ω ·ªü d∆∞·ªõi)
          if (isPlaying === "true") {
            audio
              .play()
              .then(() => {
                btn.style.animationPlayState = "running";
                btn.innerHTML = "üéµ";
              })
              .catch(() => {
                console.log(
                  "Tr√¨nh duy·ªát ch·∫∑n Autoplay, ch·ªù ng∆∞·ªùi d√πng click..."
                );
              });
          } else {
            btn.style.animationPlayState = "paused";
            btn.innerHTML = "üîá"; // Bi·ªÉu t∆∞·ª£ng t·∫Øt ti·∫øng
          }
        });

        // --- H√ÄM 2: L∆ØU TH·ªúI GIAN KHI CHUY·ªÇN TRANG ---
        window.addEventListener("beforeunload", () => {
          localStorage.setItem("musicTime", audio.currentTime);
          localStorage.setItem("musicPlaying", !audio.paused);
        });

        // --- H√ÄM 3: B·∫¨T/T·∫ÆT NH·∫†C KHI B·∫§M N√öT ---
        function toggleMusic() {
          if (audio.paused) {
            audio.play();
            btn.style.animationPlayState = "running";
            btn.innerHTML = "üéµ";
            localStorage.setItem("musicPlaying", "true");
          } else {
            audio.pause();
            btn.style.animationPlayState = "paused";
            btn.innerHTML = "üîá";
            localStorage.setItem("musicPlaying", "false");
          }
        }

        // --- H√ÄM 4: CLICK B·∫§T K·ª≤ ƒê√ÇU ƒê·ªÇ M·ªíI NH·∫†C (FIX L·ªñI CHROME) ---
        // Chrome ch·∫∑n t·ª± ph√°t nh·∫°c n·∫øu ch∆∞a t∆∞∆°ng t√°c.
        // H√†m n√†y gi√∫p nh·∫°c t·ª± b·∫≠t ngay khi b·∫°n ch·∫°m v√†o m√†n h√¨nh l·∫ßn ƒë·∫ßu.
        document.body.addEventListener(
          "click",
          () => {
            if (
              localStorage.getItem("musicPlaying") !== "false" &&
              audio.paused
            ) {
              audio.play();
              btn.style.animationPlayState = "running";
              btn.innerHTML = "üéµ";
            }
          },
          { once: true }
        ); // Ch·ªâ ch·∫°y 1 l·∫ßn duy nh·∫•t
      </script>
      <a href="index.html" class="back-button">‚Üê Quay v·ªÅ Tim 3D</a>
    </div>
  </body>
</html>
